      <div class="view-frame" id="view-frame" hidden aria-hidden="true">
        <div class="view-empty" id="view-empty" role="status" aria-live="polite">
          Selecciona una sección para comenzar.
        </div>
      </div>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="backend-base-url" content="https://agenda-virtual-backend-di4k.onrender.com">
  <meta name="theme-color" content="#0b3a65">
  <title>Agenda Pro</title>
  <link rel="manifest" href="/manifest.webmanifest">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css">
  <script defer src="/app.js"></script>
</head>
<body>
  <section class="auth-screen" id="auth-screen" aria-live="polite">
    <div class="auth-card">
      <!-- Agenda virtual login title kept for reference -->
      <p class="auth-subtitle">Agenda Virtual</p>

      <button type="button" class="tertiary-action" id="auth-register">Registrar mi WhatsApp</button>
      <p class="auth-note">Todas las alertas de planes y firmas llegarán únicamente por WhatsApp.</p>

      <form class="auth-form" id="auth-form" novalidate>
        <label>
          Usuario
          <input id="auth-username" type="text" placeholder="Tu usuario" required>
        </label>

        <label>
          Contraseña
          <input id="auth-password" type="password" placeholder="Tu contraseña" required>
        </label>

        <button id="auth-submit" type="submit">Ingresar</button>
      </form>

      <div class="social-login">
        <p class="social-label">También puedes iniciar sesión con</p>
        <div class="social-buttons">
          <button type="button" class="social-btn google" data-social-login="google">
            <span class="social-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" role="img" aria-label="Google">
                <path fill="#4285F4" d="M23.5 12.27c0-.79-.07-1.54-.21-2.27H12v4.3h6.53c-.28 1.44-1.09 2.66-2.32 3.48v2.9h3.76c2.2-2.02 3.53-5 3.53-8.41z"/>
                <path fill="#34A853" d="M12 24c3.15 0 5.8-1.04 7.73-2.83l-3.76-2.9c-1.04.7-2.38 1.12-3.97 1.12-3.05 0-5.63-2.06-6.55-4.84H1.55v3.04C3.47 21.33 7.42 24 12 24z"/>
                <path fill="#FBBC05" d="M5.45 14.55c-.24-.7-.38-1.45-.38-2.22s.14-1.52.38-2.22V7.07H1.55A11.98 11.98 0 000 12.33c0 1.96.47 3.81 1.55 5.26l3.9-3.04z"/>
                <path fill="#EA4335" d="M12 4.77c1.54 0 2.94.53 4.04 1.58l3.02-2.94C17.8 1.26 15.15 0 12 0 7.42 0 3.47 2.67 1.55 6.04l3.9 3.04C6.37 6.78 8.95 4.77 12 4.77z"/>
              </svg>
            </span>
            <span class="social-content">
              <span>Google</span>
              <small>Gmail</small>
            </span>
          </button>
          <button type="button" class="social-btn facebook" data-social-login="facebook">
            <span class="social-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" role="img" aria-label="Facebook">
                <path d="M13.5 8.5V6.75c0-.6.4-1 .96-1h1.79V3h-2.53c-2.48 0-4.09 1.47-4.09 4v1.5H7v2.75h2.63V21h3.11v-9.75h2.49l.37-2.75h-2.86z" fill="currentColor"/>
              </svg>
            </span>
            <span class="social-content">
              <span>Facebook</span>
              <small>Meta</small>
            </span>
          </button>
        </div>
      </div>

      <p class="auth-message" id="auth-message" role="status" aria-live="assertive"></p>
    </div>
  </section>

  <div class="page-shell" id="app-shell" hidden aria-hidden="true">
    <header class="dashboard-header">
      <p class="dashboard-kicker">Panel principal</p>
      <h1>Bienvenida, Profe Diana</h1>
      <p class="dashboard-subtitle">Gestiona los planes activos, registra asistencia y visualiza el horario semanal en un solo lugar.</p>
    </header>

    <main>
      <section class="panel-grid" id="nav-panels" aria-label="Navegación principal">
        <button type="button" class="panel panel-action" id="btn-nuevo-plan">
          <h2>Añadir un nuevo plan</h2>
        </button>
        <button type="button" class="panel panel-action" id="btn-consultar-plan">
          <h2>Registro de clases</h2>
        </button>
        <button type="button" class="panel panel-action" id="btn-horario">
          <h2>Horario</h2>
        </button>
      </section>

      <section class="form-card view-panel view-panel-standalone" id="form-plan" data-view="plan" hidden aria-hidden="true">
        <div class="form-header">
          <h2>Registro de plan de natación</h2>
          <p>Completa los datos para registrar el plan personalizado del alumno.</p>
        </div>
        <form id="plan-form">
          <div class="form-grid">
            <div class="form-group">
              <label for="nombreAlumno">Nombre del alumno</label>
              <input type="text" id="nombreAlumno" name="nombreAlumno" placeholder="Escribe el nombre completo" required>
            </div>
            <div class="form-group">
              <label for="edadAlumno">Edad del alumno</label>
              <input type="number" id="edadAlumno" name="edadAlumno" placeholder="Ingresa la edad" min="1" max="99" required>
            </div>
            <div class="form-group">
              <label for="nombreAcudiente">Nombre del acudiente o padre</label>
              <input type="text" id="nombreAcudiente" name="nombreAcudiente" placeholder="Nombre de contacto" required>
            </div>
            <div class="form-group">
              <label for="telefonoAcudiente">Número de teléfono del acudiente</label>
              <input type="tel" id="telefonoAcudiente" name="telefonoAcudiente" placeholder="000 000 0000" required>
            </div>
            <div class="form-group">
              <label for="tipoPlan">Tipo de plan</label>
              <select id="tipoPlan" name="tipoPlan" required>
                <option value="" disabled selected>Selecciona una opción</option>
                <option value="4">4 clases</option>
                <option value="8">8 clases</option>
              </select>
            </div>
          </div>

          <fieldset class="form-group form-days">
            <legend>Horario • Paso 1: Selección de días</legend>
            <div class="checkbox-grid">
              <label><input type="checkbox" value="lunes" data-day-checkbox> Lunes</label>
              <label><input type="checkbox" value="martes" data-day-checkbox> Martes</label>
              <label><input type="checkbox" value="miercoles" data-day-checkbox> Miércoles</label>
              <label><input type="checkbox" value="jueves" data-day-checkbox> Jueves</label>
              <label><input type="checkbox" value="viernes" data-day-checkbox> Viernes</label>
              <label><input type="checkbox" value="sabado" data-day-checkbox> Sábado</label>
            </div>
          </fieldset>

          <div class="form-group horario-step" id="horario-step">
            <label for="horaSeleccion">Horario • Paso 2: Selección horaria</label>
            <input type="time" id="horaSeleccion" name="horaSeleccion" disabled>
            <small>Selecciona primero al menos un día.</small>
          </div>

          <div class="form-actions">
            <button type="submit" class="primary-action">Enviar plan</button>
          </div>
        </form>
      </section>
      <section class="consult-card view-panel view-panel-standalone" id="consulta-plan" data-view="consulta" hidden aria-hidden="true">
        <div class="form-header">
          <h2>Consultar plan registrado</h2>
          <p>Ingresa el nombre del alumno o el número de teléfono para visualizar su plan.</p>
        </div>
        <form id="consulta-form" class="consulta-form">
          <label for="consultaTermino">Nombre del alumno o número de teléfono</label>
          <div class="consulta-input-row">
            <input type="text" id="consultaTermino" name="consultaTermino" placeholder="Nombre del alumno o número de teléfono" required>
            <button type="submit" class="secondary-action">Buscar plan</button>
          </div>
        </form>
        <div class="resultado-contenedor" id="resultado-plan">
          <p class="empty-state">No hay resultados para mostrar. Registra un plan o realiza una búsqueda.</p>
        </div>
      </section>

      <section class="schedule-card view-panel view-panel-standalone" id="horario-card" data-view="horario" hidden aria-hidden="true">
        <div class="form-header">
          <h2>Calendario semanal 2026</h2>
          <p>Visualiza únicamente los días transcurridos de la semana actual del mes en curso.</p>
        </div>
        <div class="week-calendar">
          <div class="week-header">
            <div>
              <p class="week-label" id="week-label">Semana actual · 2026</p>
              <span class="week-range" id="week-range">--</span>
            </div>
            <span class="week-note">Actualizado automáticamente</span>
          </div>
          <div class="week-grid" id="week-grid">
            <p class="empty-state">Haz clic en "Horario" para cargar la semana.</p>
          </div>
          <p class="calendar-footnote">Solo se muestran los días del mes que ya han ocurrido durante la semana.</p>
        </div>
      </section>

    </main>
  </div>

  <div class="plan-review-layer" id="plan-review-shell" hidden aria-hidden="true">
    <div class="plan-review-backdrop" id="plan-review-backdrop" aria-hidden="true"></div>
    <section class="plan-review-card" role="dialog" aria-modal="true" aria-labelledby="plan-review-title">
      <button type="button" class="plan-review-dismiss" id="plan-review-close" aria-label="Cerrar revisión">×</button>
      <p class="plan-review-kicker">Solicitud pendiente</p>
      <h2 id="plan-review-title">Confirma el nuevo plan</h2>
      <p class="plan-review-meta" id="plan-review-meta">Revisa el plan antes de confirmar.</p>
      <dl class="plan-review-details">
        <div>
          <dt>Acudiente</dt>
          <dd id="plan-review-acudiente">--</dd>
        </div>
        <div>
          <dt>Contacto</dt>
          <dd id="plan-review-telefono">--</dd>
        </div>
        <div>
          <dt>Alumno</dt>
          <dd id="plan-review-alumno">--</dd>
        </div>
        <div>
          <dt>Días realizados</dt>
          <dd id="plan-review-dias">--</dd>
        </div>
        <div>
          <dt>Horario</dt>
          <dd id="plan-review-hora">--</dd>
        </div>
        <div>
          <dt>Clases</dt>
          <dd id="plan-review-clases">--</dd>
        </div>
      </dl>
      <p class="plan-review-status" id="plan-review-status" role="status" aria-live="assertive"></p>
      <div class="plan-review-actions">
        <button type="button" class="primary-action" id="plan-review-accept">Aceptar plan</button>
        <button type="button" class="ghost-btn" id="plan-review-reject">Solicitar cambios</button>
      </div>
    </section>
  </div>

  <div class="class-signature-layer" id="class-signature-shell" hidden aria-hidden="true">
    <div class="class-signature-backdrop" id="class-signature-backdrop" aria-hidden="true"></div>
    <section class="class-signature-card" role="dialog" aria-modal="true" aria-labelledby="class-signature-title">
      <button type="button" class="plan-review-dismiss" id="class-signature-close" aria-label="Cerrar aviso">×</button>
      <p class="plan-review-kicker">Firma de clase</p>
      <h2 id="class-signature-title">Autoriza la clase</h2>
      <p class="plan-review-meta" id="class-signature-meta">Confirma que la clase puede iniciar.</p>
      <dl class="plan-review-details">
        <div>
          <dt>Alumno</dt>
          <dd id="class-signature-alumno">--</dd>
        </div>
        <div>
          <dt>Número de clase</dt>
          <dd id="class-signature-numero">--</dd>
        </div>
      </dl>
      <p class="plan-review-status" id="class-signature-status" role="status" aria-live="assertive"></p>
      <div class="plan-review-actions">
        <button type="button" class="primary-action" id="class-signature-accept">Firmar clase</button>
      </div>
    </section>
  </div>

  <div class="class-confirm-layer" id="class-confirm-shell" hidden aria-hidden="true">
    <div class="class-confirm-card" role="dialog" aria-modal="true" aria-labelledby="class-confirm-title">
      <h3 id="class-confirm-title">Confirmar acción</h3>
      <p id="class-confirm-message">¿Deseas continuar?</p>
      <div class="class-confirm-actions">
        <button type="button" class="primary-action" id="class-confirm-yes">Sí</button>
        <button type="button" class="ghost-btn" id="class-confirm-no">No</button>
      </div>
    </div>
  </div>

  <section class="standalone-signature-view" id="standalone-signature-view" hidden aria-hidden="true">
    <div class="plan-review-card standalone-signature-card" role="region" aria-live="polite">
      <p class="plan-review-kicker">Firma de clase</p>
      <h2 id="standalone-signature-title">Autoriza la clase</h2>
      <p class="plan-review-meta" id="standalone-signature-meta">Confirma si esta sesión puede iniciar.</p>
      <dl class="plan-review-details standalone-signature-details">
        <div>
          <dt>Alumno</dt>
          <dd id="standalone-signature-alumno">--</dd>
        </div>
        <div>
          <dt>Clase</dt>
          <dd id="standalone-signature-class">--</dd>
        </div>
      </dl>
      <p class="plan-review-status" id="standalone-signature-status" role="status" aria-live="assertive"></p>
      <div class="plan-review-actions standalone-signature-actions">
        <button type="button" class="primary-action" id="standalone-signature-accept">Aceptar clase</button>
        <button type="button" class="ghost-btn" id="standalone-signature-reject">Rechazar clase</button>
      </div>
    </div>
  </section>
</body>
</html>
